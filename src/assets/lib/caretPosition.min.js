!function(t,e){"function"==typeof define&&define.amd?define(function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.caretPosition=e()}("undefined"!=typeof self?self:this,function(){var r,u=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],l=[{n:"direction",v:"inherit"},{n:"boxSizing",v:"inherit"},{n:"width",v:"auto"},{n:"height",v:"auto"},{n:"height",v:"auto"},{n:"borderTopWidth",v:"0px"},{n:"borderRightWidth",v:"0px"},{n:"borderBottomWidth",v:"0px"},{n:"borderLeftWidth",v:"0px"},{n:"borderStyle",v:"none"},{n:"paddingTop",v:"0px"},{n:"paddingRight",v:"0px"},{n:"paddingBottom",v:"0px"},{n:"paddingLeft",v:"0px"},{n:"marginTop",v:"0px"},{n:"maringRight",v:"0px"},{n:"maringBottom",v:"0px"},{n:"maringLeft",v:"0px"},{n:"fontStyle",v:"inherit"},{n:"fontVariant",v:"inherit"},{n:"fontWeight",v:"inherit"},{n:"fontStretch",v:"inherit"},{n:"fontSize",v:"inherit"},{n:"fontSizeAdjust",v:"inherit"},{n:"lineHeight",v:"inherit"},{n:"fontFamily",v:"inherit"},{n:"textAlign",v:"inherit"},{n:"textTransform",v:"inherit"},{n:"textIndent",v:"inherit"},{n:"textDecoration",v:"inherit"},{n:"letterSpacing",v:"inherit"},{n:"wordSpacing",v:"inherit"},{n:"tabSize",v:"inherit"}],p="undefined"!=typeof window,h=p&&null!=window.mozInnerScreenX;function f(t){var e;return id=t&&t.id||"input-textarea-caret-position-mirror-div",(t&&t.debug||!1||t&&t.reuse||!1)&&(e=document.getElementById(id)),e||((e=document.createElement("div")).id=id,document.body.appendChild(e),r=void 0),e}function s(){var t=document.createElement("span"),e=t.style;e.position="absolute",e.visibility="hidden",e.fontSize="100px",document.body.appendChild(t);var n=parseFloat(getComputedStyle(t).getPropertyValue("font-size"));return null!==t.parentNode&&t.parentNode.removeChild(t),isFinite(n)?n/100:1}function v(t,e,d,a){var n=a&&a.debug||!1;if(n||a&&a.reuse||!1){var i,o=a&&a.forceUpdateStyle||!1;if(o||!a||a.reuse||(o=!0),(i=!o&&(a&&a.guessIfUpdateStyle||!1))&&("function"==typeof i&&!i(d)||r===t.tagName))return;r=t.tagName}else r=void 0;var l=d.style,p=window.getComputedStyle?getComputedStyle(t):t.currentStyle;l.whiteSpace="pre-wrap","INPUT"!==t.nodeName?l.wordWrap="break-word":a&&a.allowInputWrap||(l.wordWrap="normal"),l.position="absolute",n||(l.visibility="hidden");var f="INPUT"===t.nodeName;a&&!0===a.fontZoom&&(a.fontZoom=1/s()),(a&&a.additionalStyles?u.concat(a.additionalStyles):u).forEach(function(t){if(f&&"lineHeight"===t){var e=p;"normal"===p.lineHeight&&(l.lineHeight="1em",l.height=p.height,e=window.getComputedStyle?getComputedStyle(d):d.currentStyle);var n,i,o=0;isFinite(parseFloat(e.lineHeight))&&isFinite(n=parseFloat(p.height))?(["borderTop","borderBottom","paddingTop","paddingBottom","marginTop","marginBottom"].forEach(function(t){i=parseFloat(p[t]),isFinite(i)&&(o+=i)}),l.lineHeight=0===o?p.height:n-o+"px"):l[t]=e[t]}else if(!a||"number"!=typeof a.fontZoom||"fontSize"!==t&&"lineHeight"!==t)l[t]=p[t];else{var r;isFinite(r=parseFloat(p[t]))?l[t]=r*a.fontZoom+"px":l[t]=p[t]}}),h?t.scrollHeight>parseInt(p.height)&&(l.overflowY="scroll"):l.overflow="hidden"}function g(){r=void 0}function c(t,e){return e&&e.text?"function"==typeof e.text?e.text(t,e):e.text:t.value}function m(e,t,n,i){e.scrollLeft&&(n.scrollLeft=e.scrollLeft),e.scrollTop&&(n.scrollTop=e.scrollTop),e.dir&&(n.dir=e.dir),i&&i.additionalAttributes&&i.additionalAttributes.forEach(function(t){n[t]=e[t]});var o=window.getComputedStyle?getComputedStyle(e):e.currentStyle;n.textContent=c(e,i).substring(0,t),"INPUT"!==e.nodeName||i&&i.allowInputWrap||(n.textContent=n.textContent.replace(/\s/g,"Â "));var r=document.createElement("span");if(r.textContent=c(e,i).substring(t)||".",i.fauxId&&(r.id=i.fauxId),i.forceClearFauxStyle){var d=r.style;l.forEach(function(t){d[t.n]=t.v})}n.appendChild(r);var a={top:r.offsetTop+parseInt(o.borderTopWidth),left:r.offsetLeft+parseInt(o.borderLeftWidth)};return i&&i.returnHeight&&(a.height=r.offsetHeight),a}return{createDiv:f,measureFontZoom:s,styleDiv:v,resetStyleDiv:g,resetDiv:function(t){id=t&&t.id||"input-textarea-caret-position-mirror-div";var e=document.getElementById(id);e&&document.body.removeChild(e)},updateCoordinates:m,getCoordinates:function(t,e,n){if(!p)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var i=n&&n.debug||!1,o=i||n&&n.reuse||!1,r=f(n);v(t,0,r,n);var d=m(t,e,r,n);i&&(r.style.backgroundColor="#aaa",d._div=r);var a=n&&n.returnDiv;return o||a?a&&(d._div=r):(g(),document.body.removeChild(r)),d}}});
//# sourceMappingURL=caretPosition.min.map